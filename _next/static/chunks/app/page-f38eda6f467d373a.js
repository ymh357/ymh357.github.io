(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5007:function(e,t,s){Promise.resolve().then(s.bind(s,4898))},4898:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ea}});var r=s(7437),a=s(2265),n=s(7292),i=s(8923),l=s(9227),c=s(2106),o=s(2368),d=s(2489),m=s(4372),u=s(875),x=s(8997),h=s(1047),f=s(1723),p=s(3774),j=s(9345),g=s(3041),v=s(9322),b=s(401),w=s(3145),N=s(9376),y=s(8819),E=s(8614),M=s(1817),k=s(2079),I=s(1448),S=s(2691);function z(e){let{images:t,size:s=400}=e,n=(0,a.useRef)(null),[l,c]=(0,a.useState)(!0),[o,m]=(0,a.useState)(null),[u,x]=(0,a.useState)(!1),h=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),j=(0,a.useRef)(null),g=(0,a.useRef)(null),v=(0,a.useRef)([]),b=(0,a.useRef)(new Map),w=(0,a.useRef)(new Set),N=(0,a.useRef)(new Set),y=(0,a.useRef)(null),z=(0,a.useRef)(!0),P=(0,a.useRef)({geometries:[],materials:[],textures:[]}),Z=(0,a.useMemo)(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:"")?1:2,[]),C=(0,a.useMemo)(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:"")?{sphere:[8,8],plane:[1,1]}:{sphere:[16,16],plane:[1,1]},[]);(0,a.useEffect)(()=>{let e;if(!n.current)return;z.current=!0;let t=new k.xsS;h.current=t;let r=new k.cPb(60,1,.1,1e3);r.position.z=15,f.current=r;let a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=new I.CP7({antialias:!0,alpha:!0,powerPreference:"high-performance",canvas:document.createElement("canvas")});if(i.domElement.getContext){let e=i.domElement.getContext("2d");e&&"willReadFrequently"in e&&i.domElement.getContext("2d",{willReadFrequently:!0})}let l=a?1:Math.min(window.devicePixelRatio,2);i.setPixelRatio(l);let o=Math.min(n.current.offsetWidth,s);i.setSize(o,o),i.setClearColor(0,0),n.current.appendChild(i.domElement),p.current=i;let d=new S.z(r,i.domElement);d.enableDamping=!0,d.dampingFactor=.05,d.rotateSpeed=.5,d.enableZoom=!0,d.autoRotate=!0,d.autoRotateSpeed=a?.3:.5,j.current=d;let[m,u]=C.sphere,x=new k.xo$(30,m,u),E=new k.vBJ({color:16777215,side:k._Li,transparent:!0,opacity:.1});P.current.geometries.push(x),P.current.materials.push(E);let M=new k.Kj0(x,E);t.add(M),c(!1);let Z=a?2:1,R=0,A=()=>{z.current&&j.current&&p.current&&h.current&&f.current&&(++R%Z!=0&&a||(j.current.update(),p.current.render(h.current,f.current)),g.current=requestAnimationFrame(A))};g.current=requestAnimationFrame(A);let D=()=>{if(!z.current||!n.current||!f.current||!p.current)return;let e=Math.min(n.current.offsetWidth,s);f.current.aspect=1,f.current.updateProjectionMatrix(),p.current.setSize(e,e)},B=()=>{clearTimeout(e),e=setTimeout(D,100)};return window.addEventListener("resize",B),()=>{var e,t,s,r,a;z.current=!1,window.removeEventListener("resize",B),g.current&&(cancelAnimationFrame(g.current),g.current=null),y.current&&(clearTimeout(y.current),y.current=null),n.current&&(null===(e=p.current)||void 0===e?void 0:e.domElement)&&n.current.removeChild(p.current.domElement),P.current.geometries.forEach(e=>e.dispose()),P.current.materials.forEach(e=>e.dispose()),P.current.textures.forEach(e=>e.dispose()),P.current.geometries=[],P.current.materials=[],P.current.textures=[],null===(t=j.current)||void 0===t||t.dispose(),j.current=null,null===(s=p.current)||void 0===s||s.dispose(),null===(r=p.current)||void 0===r||r.forceContextLoss(),p.current=null,null===(a=h.current)||void 0===a||a.clear(),h.current=null,v.current=[],b.current.clear(),w.current.clear(),N.current.clear(),f.current=null}},[s,C]);let R=(e,t,s,r,a)=>{if(!h.current||!z.current)return null;let n=3/a,[i,l]=C.plane,c=new k._12(3,n,i,l),o=new k.vBJ({map:t,side:k.ehD,transparent:!0,opacity:0}),d=new k.Kj0(c,o);d.position.copy(s),d.rotation.copy(r),d.rotation.z+=Math.PI,d.renderOrder=1;let m=new k._12(3.1,n+.1,i,l),u=new k.vBJ({color:16777215,side:k.ehD}),x=new k.Kj0(m,u);x.position.copy(s),x.position.z-=.01,x.rotation.copy(r),x.rotation.z+=Math.PI,x.renderOrder=0,h.current.add(x),h.current.add(d),v.current.push(d),b.current.set(d,e),P.current.geometries.push(c,m),P.current.materials.push(o,u),P.current.textures.push(t);let f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:""),p=0,j=f?.03:.05,g=f?80:50,w=()=>{z.current&&(p+=j,o.opacity=Math.min(p,1),o.opacity<1&&setTimeout(w,g))};return w(),d},A=(0,a.useMemo)(()=>t.map((e,s)=>{let r=Math.acos(-1+2*s/t.length),a=Math.sqrt(t.length*Math.PI)*r,n=10*Math.sin(r)*Math.cos(a),i=10*Math.sin(r)*Math.sin(a),l=10*Math.cos(r);return new k.Pa4(n,i,l)}),[t.length]),D=()=>new k.USm((Math.random()-.5)*.1,(Math.random()-.5)*.1,(Math.random()-.5)*.1),B=(0,a.useMemo)(()=>new k.dpR,[]),T=(e,t)=>{if(!z.current)return;let{thumbnail:s}=e;w.current.has(s)||N.current.has(s)||(N.current.add(s),"createImageBitmap"in window?fetch(s).then(e=>e.blob()).then(e=>{if(z.current)return createImageBitmap(e)}).then(e=>{if(!z.current||!e)return;let r=e.width/e.height,a=new k.xEZ;a.image=e,a.needsUpdate=!0,a.minFilter=k.wem,a.generateMipmaps=!1,R(s,a,A[t],D(),r),w.current.add(s),N.current.delete(s),Y()}).catch(()=>{N.current.delete(s),F(e,t)}):F(e,t))},F=(e,t)=>{if(!z.current)return;let{thumbnail:s}=e;if(w.current.has(s)||N.current.has(s))return;N.current.add(s);let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{if(!z.current)return;let e=r.width/r.height;B.load(s,r=>{z.current&&(r.minFilter=k.wem,r.generateMipmaps=!1,R(s,r,A[t],D(),e),w.current.add(s),N.current.delete(s),Y())},void 0,()=>{z.current&&(N.current.delete(s),Y())})},r.onerror=()=>{z.current&&(N.current.delete(s),Y())},r.src=s},O=(0,a.useMemo)(()=>new k.iWj,[]),V=(0,a.useMemo)(()=>new k.yGw,[]),_=e=>!!f.current&&!!z.current&&(V.multiplyMatrices(f.current.projectionMatrix,f.current.matrixWorldInverse),O.setFromProjectionMatrix(V),O.containsPoint(e)),Y=()=>{if(!z.current||y.current||(y.current=setTimeout(()=>{y.current=null},500),N.current.size>=Z))return;let e=t.filter((e,t)=>!(w.current.has(e.thumbnail)||N.current.has(e.thumbnail))&&_(A[t])).slice(0,1);0===e.length?t.filter(e=>!w.current.has(e.thumbnail)&&!N.current.has(e.thumbnail)).slice(0,1).forEach(e=>{let s=t.findIndex(t=>t.thumbnail===e.thumbnail);T(e,s)}):e.forEach(e=>{let s=t.findIndex(t=>t.thumbnail===e.thumbnail);T(e,s)})},L=(0,a.useMemo)(()=>new k.iMs,[]),W=(0,a.useMemo)(()=>new k.FM8,[]),q=()=>{m(null),x(!1),j.current&&z.current&&(j.current.autoRotate=!0)};return(0,a.useEffect)(()=>{if(!l&&t.length>0&&z.current){let e;let s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);t.forEach((e,t)=>{T(e,t)});let r=()=>{z.current&&(clearTimeout(e),e=setTimeout(()=>{Y()},s?500:300))};return j.current&&j.current.addEventListener("change",r),()=>{clearTimeout(e),j.current&&j.current.removeEventListener("change",r)}}},[l,t,A]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{ref:n,className:"w-full aspect-square max-w-full mx-auto rounded-full bg-gradient-to-br from-rose-50 to-rose-100 p-2 shadow-lg overflow-hidden",style:{height:s,width:s},onClick:e=>{if(!p.current||!f.current||!z.current)return;let s=p.current.domElement.getBoundingClientRect();W.set((e.clientX-s.left)/s.width*2-1,-((e.clientY-s.top)/s.height*2)+1),L.setFromCamera(W,f.current);let r=L.intersectObjects(v.current);if(r.length>0){let e=r[0].object,s=b.current.get(e);if(s){let e=t.find(e=>e.thumbnail===s);e&&(x(!0),m(e.fullsize),j.current&&(j.current.autoRotate=!1))}}}}),l&&(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/30 backdrop-blur-sm rounded-lg",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,r.jsx)("div",{className:"text-sm text-rose-600",children:"Initializing..."})]}),(0,r.jsx)(E.M,{children:o&&(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[501] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm",onClick:q,children:(0,r.jsxs)(i.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"relative max-w-3xl max-h-[80vh] w-full",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:q,className:"absolute -top-10 right-0 text-white hover:text-rose-300 transition-colors","aria-label":"Close image",children:(0,r.jsx)(d.Z,{size:24})}),u&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:(0,r.jsx)(M.Z,{className:"w-8 h-8 text-white animate-spin"})}),(0,r.jsx)(i.E.img,{src:o,alt:"High-resolution photo",loading:"lazy",className:"w-full h-full object-contain rounded-lg border-4 border-white shadow-2xl",onLoad:()=>x(!1),layoutId:"image-".concat(o)})]})})})]})}function P(){let[e,t]=(0,a.useState)(300),s=(0,a.useMemo)(()=>Array.from({length:35}).map((e,t)=>({thumbnail:"/photos/wedding-photo_".concat(t,"-min.jpg"),fullsize:"/photos/wedding-photo_".concat(t,"-org.JPG")})),[]);return(0,a.useEffect)(()=>{let e=()=>{t(.8*window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsx)(z,{images:s,size:e})})}let Z=(0,s(166).default)(()=>Promise.all([s.e(732),s.e(303)]).then(s.bind(s,9303)),{loadableGenerated:{webpack:()=>[9303]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})})});function C(e){return(0,r.jsx)(Z,{...e})}function R(e){let{count:t=10,size:s=20}=e,[n,l]=(0,a.useState)([]);return(0,a.useEffect)(()=>{l(Array.from({length:t},(e,t)=>({id:t,x:100*Math.random(),delay:5*Math.random(),size:s*(.5+.5*Math.random())})))},[t,s]),(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:n.map(e=>(0,r.jsx)(i.E.div,{className:"absolute bottom-0",style:{left:"".concat(e.x,"%")},initial:{y:100,opacity:0},animate:{y:[100,-100-400*Math.random()],opacity:[0,1,0],x:[0,(Math.random()-.5)*100]},transition:{duration:10+10*Math.random(),delay:e.delay,repeat:Number.POSITIVE_INFINITY,repeatDelay:5*Math.random()},children:(0,r.jsx)(x.Z,{size:e.size,className:"text-rose-300 fill-rose-100 opacity-70"})},e.id))})}function A(e){let{targetDate:t}=e,[s,n]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,a.useEffect)(()=>{let e=()=>{let e=t.getTime()-new Date().getTime();e>0?n({days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}):n({days:0,hours:0,minutes:0,seconds:0})};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[t]),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"flex justify-center gap-3 my-6",children:[(0,r.jsxs)("div",{className:"countdown-item",children:[(0,r.jsx)("span",{className:"countdown-number",children:s.days}),(0,r.jsx)("span",{className:"countdown-label",children:"天"})]}),(0,r.jsxs)("div",{className:"countdown-item",children:[(0,r.jsx)("span",{className:"countdown-number",children:s.hours}),(0,r.jsx)("span",{className:"countdown-label",children:"时"})]}),(0,r.jsxs)("div",{className:"countdown-item",children:[(0,r.jsx)("span",{className:"countdown-number",children:s.minutes}),(0,r.jsx)("span",{className:"countdown-label",children:"分"})]}),(0,r.jsxs)("div",{className:"countdown-item",children:[(0,r.jsx)("span",{className:"countdown-number",children:s.seconds}),(0,r.jsx)("span",{className:"countdown-label",children:"秒"})]})]})}function D(e){let{icon:t=(0,r.jsx)(x.Z,{className:"text-rose-400 fill-rose-200",size:20}),className:s=""}=e;return(0,r.jsx)("div",{className:"divider ".concat(s),children:t})}var B=s(5293),T=s(535),F=s(1994),O=s(3335);function V(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,O.m6)((0,F.W)(t))}let _=(0,T.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...l}=e,c=i?B.g7:"button";return(0,r.jsx)(c,{className:V(_({variant:a,size:n,className:s})),ref:t,...l})});function L(e){let{address:t,latitude:s,longitude:a,venueName:n}=e;return(0,r.jsxs)(Y,{onClick:()=>{let e="androidamap://navi?sourceApplication=e-invitation&lat=".concat(s,"&lon=").concat(a,"&dev=0&style=2"),t="iosamap://navi?sourceApplication=e-invitation&lat=".concat(s,"&lon=").concat(a,"&dev=0&style=2"),r=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(r)?(window.location.href=t,setTimeout(()=>{window.location.href="https://apps.apple.com/cn/app/id461703208"},2e3)):(window.location.href=e,setTimeout(()=>{window.location.href="https://uri.amap.com/navigation?to=".concat(a,",").concat(s,",").concat(n,"&mode=car&coordinate=gaode")},2e3))},className:"mt-4 bg-rose-500 hover:bg-rose-600 text-white",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"导航到会场"]})}function W(e){let{count:t=10,type:s}=e,[n,l]=(0,a.useState)([]);(0,a.useEffect)(()=>{l(Array.from({length:t},(e,t)=>({id:t,x:100*Math.random(),delay:3*Math.random(),size:16+16*Math.random(),rotation:360*Math.random()})))},[t,s]);let c=e=>{switch(e){case"redEnvelope":return"\uD83E\uDDE7";case"petalRed":return"\uD83C\uDF3A";default:return"\uD83C\uDF38"}};return(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)(i.E.div,{className:"absolute pointer-events-none will-change-transform",style:{left:"".concat(e.x,"%"),fontSize:"".concat(e.size,"px"),transform:"translateZ(0)"},initial:{y:-50,opacity:0,rotate:e.rotation},animate:{y:["-5vh","105vh"],opacity:[0,1,1,0],rotate:[e.rotation,e.rotation+360]},transition:{duration:10+5*Math.random(),delay:e.delay,repeat:Number.POSITIVE_INFINITY,repeatDelay:3*Math.random(),ease:"linear"},children:c(s)},e.id))})}function q(e){let{size:t=80,className:s=""}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center ".concat(s),style:{width:t,height:t,margin:"0 auto"},children:(0,r.jsx)("div",{className:"bg-red-600 text-yellow-300 flex items-center justify-center rounded-full border-4 border-yellow-400",style:{width:t,height:t,fontSize:.6*t,fontWeight:"bold",boxShadow:"0 4px 20px rgba(220, 38, 38, 0.3)"},children:"囍"})})}function G(e){let{groomFather:t,groomMother:s,brideFather:a,brideMother:n}=e;return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 w-full max-w-xs mx-auto text-center",children:[(0,r.jsxs)("div",{className:"col-span-1 py-2 grid grid-rows-3",children:[(0,r.jsx)("p",{className:"text-red-700 font-medium row-span-2",children:"男方父母"}),(0,r.jsx)("p",{className:"text-red-700 font-medium row-span-1",children:"爱子"})]}),(0,r.jsxs)("div",{className:"col-span-2 py-2 border-b border-red-300",children:[(0,r.jsxs)("p",{className:"text-red-700",children:[t," ",(0,r.jsx)("span",{className:"text-sm text-red-500",children:"先生"})]}),(0,r.jsxs)("p",{className:"text-red-700",children:[s," ",(0,r.jsx)("span",{className:"text-sm text-red-500",children:"女士"})]}),(0,r.jsx)("p",{className:"text-red-700",children:"于明昊"})]}),(0,r.jsxs)("div",{className:"col-span-1 py-2 grid grid-rows-3",children:[(0,r.jsx)("p",{className:"text-red-700 font-medium row-span-2",children:"女方父母"}),(0,r.jsx)("p",{className:"text-red-700 font-medium row-span-1",children:"爱女"})]}),(0,r.jsxs)("div",{className:"col-span-2 py-2 border-b border-red-300",children:[(0,r.jsxs)("p",{className:"text-red-700",children:[a," ",(0,r.jsx)("span",{className:"text-sm text-red-500",children:"先生"})]}),(0,r.jsxs)("p",{className:"text-red-700",children:[n," ",(0,r.jsx)("span",{className:"text-sm text-red-500",children:"女士"})]}),(0,r.jsx)("p",{className:"text-red-700",children:"刘宽"})]})]})})}Y.displayName="Button";let H=(0,T.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),J=a.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:V(H({variant:a}),s),...n})});J.displayName="Alert",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:V("mb-1 font-medium leading-none tracking-tight",s),...a})}).displayName="AlertTitle";let K=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:V("text-sm [&_p]:leading-relaxed",s),...a})});K.displayName="AlertDescription";let U=a.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:V("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});U.displayName="Input";let X=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:V("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});X.displayName="Textarea";var Q=s(738),$=s(6834);let ee=(0,Q.ZF)({apiKey:"AIzaSyCocbt-dsvoMg5xAwy0f8rv_OA3_D_mNWc",authDomain:"e-invitation-89a39.firebaseapp.com",databaseURL:"https://e-invitation-89a39-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-invitation-89a39",storageBucket:"e-invitation-89a39.firebasestorage.app",messagingSenderId:"1005490214754",appId:"1:1005490214754:web:b3c49949305a367d8fbe3b",measurementId:"G-DJZWCQMJSE"}),et=(0,n.N8)(ee),es=()=>(0,$.IH)(ee);function er(){let[e,t]=(0,a.useState)(0),[s,l]=(0,a.useState)(""),[c,o]=(0,a.useState)(null),[u,x]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),[E,M]=(0,a.useState)(!1),[k,I]=(0,a.useState)(null),[S,z]=(0,y.YD)({threshold:.5}),[Z,R]=(0,y.YD)({threshold:.5}),[A,D]=(0,y.YD)({threshold:.5}),[B,T]=(0,y.YD)({threshold:.5}),[F,O]=(0,y.YD)({threshold:.5});(0,a.useEffect)(()=>{es()},[]),(0,a.useEffect)(()=>{z?t(0):R?t(1):D?t(2):T?t(3):O&&t(4)},[z,R,D,T]);let V=async e=>{e.preventDefault(),M(!0),I(null);try{let e=(0,n.iH)(et,"rsvps-parents");await (0,n.VF)(e,{name:s,attending:c,message:u||null,timestamp:(0,n.Bt)(),userAgent:navigator.userAgent}),N(!0)}catch(e){console.error("Error submitting RSVP:",e),I("提交失败，请稍后再试。")}finally{M(!1)}},_=e=>{var t;null===(t=[document.getElementById("cover"),document.getElementById("details"),document.getElementById("gallery"),document.getElementById("rsvp"),document.getElementById("map")][e])||void 0===t||t.scrollIntoView({behavior:"smooth"})},H=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:"");return(0,r.jsxs)("div",{className:"relative min-h-screen text-gray-800  bg-gradient-to-b from-red-50 to-red-100",children:[!H&&(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)(W,{count:20,type:"redEnvelope"}),(0,r.jsx)(W,{count:30,type:"petalRed"})]}),(0,r.jsx)("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-40",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[0,1,2,3,4].map(t=>(0,r.jsx)("button",{onClick:()=>_(t),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(e===t?"bg-red-600 scale-125":"bg-gray-300"),"aria-label":"Go to section ".concat(t+1)},t))})}),(0,r.jsx)("section",{id:"cover",ref:S,className:"min-h-screen flex flex-col items-center justify-center text-center p-6 relative",children:(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"max-w-md  w-full bg-white bg-opacity-90 backdrop-blur-lg p-8 rounded-2xl border-4 border-red-600 shadow-2xl relative ",children:(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("div",{className:"mb-6 mx-auto",children:(0,r.jsx)(q,{size:100})}),(0,r.jsx)("h1",{className:"font-script text-5xl mb-4 text-red-700",children:"喜宴邀请函"}),(0,r.jsxs)("div",{className:"my-6 py-4 border-t-2 border-b-2 border-red-300 border-dashed",children:[(0,r.jsx)("h2",{className:"font-serif text-2xl font-medium text-red-700",children:"谨定于"}),(0,r.jsx)("p",{className:"font-serif text-xl mt-2 text-red-700",children:"2025年5月1日（星期四）"}),(0,r.jsx)("p",{className:"font-serif text-lg mt-1 text-red-700",children:"威海铂丽斯酒店 四楼 安然厅"})]}),(0,r.jsx)("div",{className:"my-6",children:(0,r.jsx)(G,{groomFather:"于志强",groomMother:"李桂欣",brideFather:"刘勤涛",brideMother:"陈明秀"})}),(0,r.jsx)("p",{className:"font-serif text-xl mb-2 text-red-700",children:"敬备喜宴 恭请光临"})]})})}),(0,r.jsx)("section",{id:"details",ref:Z,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 border-4 border-red-600 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0  opacity-5 bg-center bg-no-repeat"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)(q,{size:60})}),(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-red-700",children:"婚礼详情"}),(0,r.jsx)("p",{className:"text-center text-red-500 mb-6 font-serif",children:"Wedding Details"}),(0,r.jsx)("div",{className:"my-6 flex justify-center",children:(0,r.jsx)("div",{className:"w-3/4 h-px bg-gradient-to-r from-transparent via-red-500 to-transparent"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(h.Z,{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"日期"}),(0,r.jsx)("p",{children:"2025年5月1日 星期四"}),(0,r.jsx)("p",{className:"text-red-600",children:"农历四月初四"})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(f.Z,{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"时间"}),(0,r.jsx)("p",{children:"婚礼仪式: 中午 11:28"})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(p.Z,{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"地点"}),(0,r.jsx)("p",{children:"威海铂丽斯酒店四楼安然厅"})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(j.Z,{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"联系方式"}),(0,r.jsx)("p",{children:"yzqandlgx@163.com"})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(g.Z,{className:"w-6 h-6 text-red-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"电话"}),(0,r.jsx)("p",{children:"18663172097"})]})]})]})]})]})}),(0,r.jsx)("section",{id:"gallery",ref:A,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)(q,{size:60})}),(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-red-700",children:"照片分享"}),(0,r.jsx)("p",{className:"text-center text-red-500 mb-6 font-serif",children:"Photos share"}),(0,r.jsx)("div",{className:"my-6 flex justify-center",children:(0,r.jsx)("div",{className:"w-3/4 h-px bg-gradient-to-r from-transparent via-red-500 to-transparent"})}),(0,r.jsx)(P,{}),(0,r.jsx)("div",{className:"text-center mt-6 text-sm text-red-500 font-serif italic",children:(0,r.jsx)("p",{children:"拖动旋转 • 点击图片查看"})}),(0,r.jsxs)(i.E.a,{href:"https://www.hunliji.com/m/ling-xi/mv-card/index.html?card_id=MTE2NzkwMTExZmlyZV9jbG91ZA",target:"_blank",rel:"noopener noreferrer",className:"mt-6  flex items-center justify-center px-6 py-3 rounded-full bg-rose-500 text-white hover:bg-rose-600 transition-all duration-300 hover:scale-105 shadow-lg group relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,r.jsx)("span",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),(0,r.jsxs)("span",{className:"relative flex items-center",children:["观看视频",(0,r.jsx)(m.Z,{className:" ml-2 w-6 h-6 text-white  flex-shrink-0"})]})]})]})}),(0,r.jsx)("section",{id:"rsvp",ref:B,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 border-4 border-red-600",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)(q,{size:60})}),(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-red-700",children:"回复邀请"}),(0,r.jsx)("p",{className:"text-center text-red-500 mb-6 font-serif",children:"RSVP"}),(0,r.jsx)("div",{className:"my-6 flex justify-center",children:(0,r.jsx)("div",{className:"w-3/4 h-px bg-gradient-to-r from-transparent via-red-500 to-transparent"})}),w?(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("div",{className:"text-red-600 text-2xl",children:"囍"})}),(0,r.jsx)("h3",{className:"text-xl font-serif font-medium mb-2",children:"谢谢您！"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["您的回复已提交。",c?"期待与您相见！":"感谢您的回复！"]})]}):(0,r.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[k&&(0,r.jsxs)(J,{variant:"destructive",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)(K,{children:k})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"您的姓名"}),(0,r.jsx)(U,{id:"name",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full border-red-200 focus:border-red-400 focus:ring-red-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"block text-sm font-medium mb-2",children:"您是否参加？"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)(Y,{type:"button",variant:!0===c?"default":"outline",onClick:()=>o(!0),className:!0===c?"bg-red-600 hover:bg-red-700":"border-red-300 text-red-600 hover:bg-red-50",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"})," 是"]}),(0,r.jsxs)(Y,{type:"button",variant:!1===c?"default":"outline",onClick:()=>o(!1),className:!1===c?"bg-red-600 hover:bg-red-700":"border-red-300 text-red-600 hover:bg-red-50",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"})," 否"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"留言（可选）"}),(0,r.jsx)(X,{id:"message",value:u,onChange:e=>x(e.target.value),className:"w-full border-red-200 focus:border-red-400 focus:ring-red-400",rows:3})]}),(0,r.jsx)(Y,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:!s||null===c||E,children:E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mr-2",children:"提交中"}),(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"提交回复"})]})]})}),(0,r.jsx)("section",{className:"py-12 px-6 bg-white flex flex-col items-center justify-center",id:"map",ref:F,children:(0,r.jsx)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)(q,{size:60})}),(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-red-700",children:"婚礼地点"}),(0,r.jsx)("p",{className:"text-center text-red-500 mb-6 font-serif",children:"Location"}),(0,r.jsx)("div",{className:"my-6 flex justify-center",children:(0,r.jsx)("div",{className:"w-3/4 h-px bg-gradient-to-r from-transparent via-red-500 to-transparent"})}),(0,r.jsx)("div",{className:"aspect-video relative rounded-lg overflow-hidden shadow-lg border-4 border-white",children:(0,r.jsx)(C,{latitude:37.428392,longitude:122.172677,title:"威海铂丽斯酒店",address:"威海铂丽斯酒店"})}),(0,r.jsxs)("div",{className:"mt-6 text-center",children:[(0,r.jsx)("p",{className:"font-serif font-medium text-lg",children:"山东省威海市"}),(0,r.jsx)("p",{children:"经济技术开发区黄海路19号"}),(0,r.jsx)(L,{address:"山东省威海市经济技术开发区黄海路19号",latitude:37.428392,longitude:122.172677,venueName:"威海铂丽斯酒店"})]})]})})}),(0,r.jsx)("footer",{className:"py-12 text-center text-sm text-red-600 bg-red-50",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto px-6",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)(q,{size:40})}),(0,r.jsx)("p",{className:"font-serif text-lg mb-2",children:"感谢您的祝福与见证！"}),(0,r.jsx)("p",{className:"text-red-400 mt-4",children:"\xa9 2025"})]})})]})}function ea(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(ei,{}),children:(0,r.jsx)(en,{})})}function en(){let e=(0,N.useSearchParams)().get("v"),[t,s]=(0,a.useState)(0),[E,M]=(0,a.useState)(""),[k,I]=(0,a.useState)(!0),[S,z]=(0,a.useState)(""),[Z,B]=(0,a.useState)(!1),[T,F]=(0,a.useState)(!1),[O,V]=(0,a.useState)(null),[_,W]=(0,a.useState)([]),[q,G]=(0,a.useState)(!1),[H,Q]=(0,a.useState)(!1),$=(0,a.useRef)(null),ee=new Date(2025,4,1),[ea,en]=(0,y.YD)({threshold:.5}),[ei,el]=(0,y.YD)({threshold:.5}),[ec,eo]=(0,y.YD)({threshold:.5}),[ed,em]=(0,y.YD)({threshold:.5}),[eu,ex]=(0,y.YD)({threshold:.5}),[eh,ef]=(0,y.YD)({threshold:.5});(0,a.useEffect)(()=>{es()},[]),(0,a.useEffect)(()=>{en?s(0):el?s(1):eo?s(2):em?s(3):ex?s(4):ef&&s(5)},[en,el,eo,em,ex,ef]),(0,a.useEffect)(()=>{let e=(0,n.IO)((0,n.iH)(et,"rsvps"),(0,n.g2)("timestamp"),(0,n.vh)(50)),t=(0,n.jM)(e,e=>{let t=[];e.forEach(e=>{let s=e.val();s.message&&t.push({id:e.key,name:ev(s.name),message:ev(s.message),timestamp:s.timestamp})}),W(t.reverse())});return()=>t()},[]);let ep=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let e=()=>{H||ep.current||(Q(!0),ep.current=setTimeout(()=>{$.current&&$.current.play().then(()=>{G(!0)}).catch(e=>{console.log("Auto-play prevented:",e),G(!1)})},500))},t=["click","touchstart","scroll","keydown"];return t.forEach(t=>{window.addEventListener(t,e,{once:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[H]),(0,a.useEffect)(()=>{if($.current&&H){if(q){let e=$.current.play();void 0!==e&&e.catch(e=>{console.log("Playback failed:",e),G(!1)})}else $.current.pause()}},[q,H]);let ej=async e=>{e.preventDefault(),F(!0),V(null);try{let e=(0,n.iH)(et,"rsvps");await (0,n.VF)(e,{name:ev(E),attending:k,message:S?ev(S):null,timestamp:(0,n.Bt)(),userAgent:navigator.userAgent}),B(!0)}catch(e){console.error("Error submitting RSVP:",e),V("提交失败，请稍后再试。")}finally{F(!1)}},eg=e=>{var t;null===(t=[document.getElementById("cover"),document.getElementById("details"),document.getElementById("gallery"),document.getElementById("rsvp"),document.getElementById("map"),document.getElementById("message-board")][e])||void 0===t||t.scrollIntoView({behavior:"smooth"})},ev=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),[eb,ew]=(0,a.useState)(!1),[eN,ey]=(0,a.useState)("加载中...");(0,a.useEffect)(()=>{let e=(0,n.iH)(et,"weddingMessages/groom"),t=(0,n.jM)(e,e=>{let t=e.val();(null==t?void 0:t.message)&&ey(ev(t.message.replace(/\\n/g,"\n")))});return()=>{t()}},[]);let[eE,eM]=(0,a.useState)(!1),[ek,eI]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{eI("v2"===e)},[e]),ek)?(0,r.jsx)(er,{}):(0,r.jsxs)("div",{className:"relative bg-wedding min-h-screen text-gray-800 overflow-hidden",children:[(0,r.jsx)("audio",{ref:$,src:"/music/wedding-song.mp3",loop:!0,preload:"auto"}),(0,r.jsx)("button",{onClick:()=>G(!q),className:"fixed bottom-6 right-6 z-[500] w-12 h-12 rounded-full bg-rose-500 hover:bg-rose-600 text-white shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 group ".concat(H?"":"animate-pulse"),"aria-label":q?"暂停音乐":"播放音乐",children:(0,r.jsx)(i.E.div,{animate:{rotate:q?360:0},transition:{duration:4,repeat:q?1/0:0,ease:"linear"},children:q?(0,r.jsx)(l.Z,{className:"w-6 h-6"}):(0,r.jsx)(c.Z,{className:"w-6 h-6"})})}),(0,r.jsx)(R,{count:15}),(0,r.jsx)("div",{className:"fixed right-4 top-1/2 -translate-y-1/2 z-40",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[0,1,2,3,4,5].map(e=>(0,r.jsx)("button",{onClick:()=>eg(e),className:"w-5 h-5 flex items-center justify-center","aria-label":"Go to section ".concat(e+1),children:(0,r.jsx)("div",{className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(t===e?"bg-rose-500 transform scale-125":"bg-gray-300")})},e))})}),(0,r.jsx)("div",{className:"fixed left-4 top-4 z-[500] flex flex-col gap-2",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(i.E.button,{style:{originX:0,originY:1},initial:{opacity:0,scale:0},animate:eE?{scale:1,opacity:1}:{scale:[0,1],opacity:[0,1]},transition:eE?{duration:.3}:{duration:1.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},onClick:()=>{ew(e=>!e),eM(!0)},children:[(0,r.jsx)(o.Z,{className:"w-8 h-8 text-rose-500"}),"          "]}),eb&&(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.8,x:-20},animate:{opacity:1,scale:1,x:0},className:"absolute left-12 top-0 bg-white rounded-2xl p-4 shadow-lg w-72 border border-rose-200",children:[(0,r.jsx)("button",{onClick:()=>ew(!1),className:"absolute right-2 top-2 text-rose-400 hover:text-rose-600",children:(0,r.jsx)(d.Z,{size:16})}),(0,r.jsx)("p",{className:"mt-4 text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:eN}),(0,r.jsx)("div",{className:"text-right mt-2 text-rose-500 font-script",children:"- Yours Truly"})]})]})}),(0,r.jsx)("section",{id:"cover",ref:ea,className:"min-h-screen flex flex-col items-center justify-center text-center p-6 relative",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"max-w-md glass p-8 rounded-xl",children:[(0,r.jsx)("div",{className:"mb-6 relative w-32 h-32 mx-auto rounded-2xl overflow-hidden",children:(0,r.jsx)(w.default,{src:"/monogram.jpg",alt:"Wedding monogram",fill:!0,className:"object-contain"})}),(0,r.jsx)("h1",{className:"font-script text-3xl mb-4 text-rose-700",children:"于明昊\xa0\xa0&\xa0\xa0刘宽"}),(0,r.jsx)("h2",{className:"font-serif text-2xl font-light mb-8 text-rose-600",children:"诚挚邀请您参加我们的婚礼"}),(0,r.jsx)(D,{}),(0,r.jsx)("p",{className:"font-serif text-xl mb-4",children:"2025年5月1日"}),(0,r.jsx)("p",{className:"font-serif text-lg ",children:"威海 \xb7 铂丽斯酒店 \xb7 四楼 \xb7 安然厅"}),(0,r.jsx)(A,{targetDate:ee}),(0,r.jsxs)(i.E.a,{href:"https://www.hunliji.com/m/ling-xi/mv-card/index.html?card_id=MTE2NzkwMTExZmlyZV9jbG91ZA",target:"_blank",rel:"noopener noreferrer",className:"mb-6 inline-flex items-center justify-center px-6 py-3 rounded-full bg-rose-500 text-white hover:bg-rose-600 transition-all duration-300 hover:scale-105 shadow-lg group relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,r.jsx)("span",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),(0,r.jsxs)("span",{className:"relative flex items-center",children:["我们的视频",(0,r.jsx)(m.Z,{className:" ml-2 w-6 h-6 text-white  flex-shrink-0"})]})]}),(0,r.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)(i.E.div,{animate:{y:[0,10,0]},transition:{repeat:Number.POSITIVE_INFINITY,duration:2},children:(0,r.jsx)(u.Z,{className:"text-rose-500 w-8 h-8"})})})]})}),(0,r.jsx)("section",{id:"details",ref:ei,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 floral-border",children:[(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"婚礼详情"}),(0,r.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Wedding Details"}),(0,r.jsx)(D,{icon:(0,r.jsx)(x.Z,{className:"text-rose-400 fill-rose-200",size:16})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"日期"}),(0,r.jsx)("p",{children:"2025年5月1日 星期四"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(f.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"时间"}),(0,r.jsx)("p",{children:"婚礼仪式: 11:28"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(p.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"地点"}),(0,r.jsx)("p",{children:"山东省威海市铂丽斯酒店 四楼 安然厅"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(j.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"联系方式"}),(0,r.jsx)("p",{children:"ymhyzq@163.com"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-serif font-medium text-lg",children:"电话"}),(0,r.jsx)("p",{children:"18369195962"})]})]})]})]})}),(0,r.jsx)("section",{id:"gallery",ref:ec,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:[(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"我们的故事"}),(0,r.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Our Story"}),(0,r.jsx)(D,{}),(0,r.jsx)(P,{}),(0,r.jsx)("div",{className:"text-center mt-6 text-sm text-rose-500 font-serif italic",children:(0,r.jsx)("p",{children:"拖动旋转 • 点击图片查看"})})]})}),(0,r.jsx)("section",{id:"rsvp",ref:ed,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"回复邀请"}),(0,r.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"RSVP"}),(0,r.jsx)(D,{}),Z?(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(x.Z,{className:"w-8 h-8 text-rose-600 fill-rose-200"})}),(0,r.jsx)("h3",{className:"text-xl font-serif font-medium mb-2",children:"谢谢您！"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["您的回复已提交。",k?"期待与您相见！":"感谢您的回复！"]})]}):(0,r.jsxs)("form",{onSubmit:ej,className:"space-y-4",children:[O&&(0,r.jsxs)(J,{variant:"destructive",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)(K,{children:O})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"您的姓名"}),(0,r.jsx)(U,{id:"name",value:E,onChange:e=>M(e.target.value),required:!0,className:"w-full border-rose-200 focus:border-rose-400 focus:ring-rose-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"block text-sm font-medium mb-2",children:"您是否参加？"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)(Y,{type:"button",variant:!0===k?"default":"outline",onClick:()=>I(!0),className:!0===k?"bg-rose-500 hover:bg-rose-600":"border-rose-300 text-rose-600 hover:bg-rose-50",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"})," 是"]}),(0,r.jsxs)(Y,{type:"button",variant:!1===k?"default":"outline",onClick:()=>I(!1),disabled:!0,className:!1===k?"bg-rose-500 hover:bg-rose-600":"border-rose-300 text-rose-600 hover:bg-rose-50",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"})," 否（不准）"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"留言（可选）"}),(0,r.jsx)(X,{id:"message",value:S,onChange:e=>z(e.target.value),className:"w-full border-rose-200 focus:border-rose-400 focus:ring-rose-400",rows:3})]}),(0,r.jsx)(Y,{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600",disabled:!E||null===k||T,children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mr-2",children:"提交中"}),(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"提交回复"})]})]})}),(0,r.jsx)("section",{className:"py-12 px-6 bg-white flex flex-col items-center justify-center",id:"map",ref:eu,children:(0,r.jsx)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"婚礼地点"}),(0,r.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Location"}),(0,r.jsx)(D,{}),(0,r.jsx)("div",{className:"aspect-video relative rounded-lg overflow-hidden shadow-lg border-4 border-white",children:(0,r.jsx)(C,{latitude:37.428392,longitude:122.172677,title:"威海铂丽斯酒店",address:"威海铂丽斯酒店"})}),(0,r.jsxs)("div",{className:"mt-6 text-center",children:[(0,r.jsx)("p",{className:"font-serif font-medium text-lg",children:"山东省威海市"}),(0,r.jsx)("p",{children:"经济技术开发区黄海路19号"}),(0,r.jsx)(L,{address:"山东省威海市经济技术开发区黄海路19号",latitude:37.428392,longitude:122.172677,venueName:"威海铂丽斯酒店"})]})]})})}),(0,r.jsx)("section",{id:"message-board",ref:eh,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"留言板"}),(0,r.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Messages"}),(0,r.jsx)(D,{}),(0,r.jsx)("div",{className:"mt-6 space-y-4 max-h-[60vh] overflow-y-auto",children:0===_.length?(0,r.jsx)("p",{className:"text-center text-gray-500 italic",children:"还没有留言，来做第一个留言的人吧！"}):_.map(e=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-rose-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)("h3",{className:"font-medium text-rose-700",children:e.name}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString("zh-CN")})]}),(0,r.jsx)("p",{className:"mt-2 text-gray-700 whitespace-pre-wrap",children:e.message})]},e.id))})]})}),(0,r.jsx)("footer",{className:"py-12 text-center text-sm text-rose-600 bg-rose-50",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto px-6",children:[(0,r.jsx)(D,{className:"mb-6"}),(0,r.jsx)("p",{className:"font-serif text-lg mb-2",children:"我们期待与您共度美好时光！"}),(0,r.jsx)("p",{className:"font-script text-2xl mb-4",children:"Minghao Yu & Kuan Liu"}),(0,r.jsx)("p",{className:"text-rose-400",children:"\xa9 2025"})]})})]})}function ei(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-rose-500"})})}}},function(e){e.O(0,[689,870,481,921,971,117,744],function(){return e(e.s=5007)}),_N_E=e.O()}]);