(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5007:function(e,t,r){Promise.resolve().then(r.bind(r,9729))},9729:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var s=r(7437),n=r(2265),a=r(7292),i=r(8923),l=r(9227),o=r(2106),c=r(8617),d=r(2489),u=r(8997),m=r(875),h=r(1047),x=r(1723),f=r(3774),p=r(9345),g=r(3041),b=r(9322),v=r(401),j=r(3145),w=r(8819);let N=(0,r(166).default)(()=>Promise.all([r.e(732),r.e(303)]).then(r.bind(r,9303)),{loadableGenerated:{webpack:()=>[9303]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})})});function y(e){return(0,s.jsx)(N,{...e})}function E(e){let{count:t=10,size:r=20}=e,[a,l]=(0,n.useState)([]);return(0,n.useEffect)(()=>{l(Array.from({length:t},(e,t)=>({id:t,x:100*Math.random(),delay:5*Math.random(),size:r*(.5+.5*Math.random())})))},[t,r]),(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:a.map(e=>(0,s.jsx)(i.E.div,{className:"absolute bottom-0",style:{left:"".concat(e.x,"%")},initial:{y:100,opacity:0},animate:{y:[100,-100-400*Math.random()],opacity:[0,1,0],x:[0,(Math.random()-.5)*100]},transition:{duration:10+10*Math.random(),delay:e.delay,repeat:Number.POSITIVE_INFINITY,repeatDelay:5*Math.random()},children:(0,s.jsx)(u.Z,{size:e.size,className:"text-rose-300 fill-rose-100 opacity-70"})},e.id))})}function M(e){let{targetDate:t}=e,[r,a]=(0,n.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,n.useEffect)(()=>{let e=()=>{let e=t.getTime()-new Date().getTime();e>0?a({days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}):a({days:0,hours:0,minutes:0,seconds:0})};e();let r=setInterval(e,1e3);return()=>clearInterval(r)},[t]),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"flex justify-center gap-3 my-6",children:[(0,s.jsxs)("div",{className:"countdown-item",children:[(0,s.jsx)("span",{className:"countdown-number",children:r.days}),(0,s.jsx)("span",{className:"countdown-label",children:"天"})]}),(0,s.jsxs)("div",{className:"countdown-item",children:[(0,s.jsx)("span",{className:"countdown-number",children:r.hours}),(0,s.jsx)("span",{className:"countdown-label",children:"时"})]}),(0,s.jsxs)("div",{className:"countdown-item",children:[(0,s.jsx)("span",{className:"countdown-number",children:r.minutes}),(0,s.jsx)("span",{className:"countdown-label",children:"分"})]}),(0,s.jsxs)("div",{className:"countdown-item",children:[(0,s.jsx)("span",{className:"countdown-number",children:r.seconds}),(0,s.jsx)("span",{className:"countdown-label",children:"秒"})]})]})}function k(e){let{icon:t=(0,s.jsx)(u.Z,{className:"text-rose-400 fill-rose-200",size:20}),className:r=""}=e;return(0,s.jsx)("div",{className:"divider ".concat(r),children:t})}var I=r(5293),S=r(535),P=r(1994),z=r(3335);function R(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,z.m6)((0,P.W)(t))}let C=(0,S.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:i=!1,...l}=e,o=i?I.g7:"button";return(0,s.jsx)(o,{className:R(C({variant:n,size:a,className:r})),ref:t,...l})});function Z(e){let{address:t,latitude:r,longitude:n,venueName:a}=e;return(0,s.jsxs)(A,{onClick:()=>{let e="androidamap://navi?sourceApplication=e-invitation&lat=".concat(r,"&lon=").concat(n,"&dev=0&style=2"),t="iosamap://navi?sourceApplication=e-invitation&lat=".concat(r,"&lon=").concat(n,"&dev=0&style=2"),s=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(s)?(window.location.href=t,setTimeout(()=>{window.location.href="https://apps.apple.com/cn/app/id461703208"},2e3)):(window.location.href=e,setTimeout(()=>{window.location.href="https://uri.amap.com/navigation?to=".concat(n,",").concat(r,",").concat(a,"&mode=car&coordinate=gaode")},2e3))},className:"mt-4 bg-rose-500 hover:bg-rose-600 text-white",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"导航到会场"]})}A.displayName="Button";var B=r(8614),D=r(1817),O=r(2079),T=r(1448),F=r(2691);function _(e){let{images:t,size:r=400}=e,a=(0,n.useRef)(null),[l,o]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),[m,h]=(0,n.useState)(!1),x=(0,n.useRef)(null),f=(0,n.useRef)(null),p=(0,n.useRef)(null),g=(0,n.useRef)(null),b=(0,n.useRef)(null),v=(0,n.useRef)([]),j=(0,n.useRef)(new Map),w=(0,n.useRef)(new Set),N=(0,n.useRef)(new Set),y=(0,n.useRef)(null),E=(0,n.useRef)(!0),M=(0,n.useRef)({geometries:[],materials:[],textures:[]}),k=(0,n.useMemo)(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:"")?1:2,[]),I=(0,n.useMemo)(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:"")?{sphere:[8,8],plane:[1,1]}:{sphere:[16,16],plane:[1,1]},[]);(0,n.useEffect)(()=>{let e;if(!a.current)return;E.current=!0;let t=new O.xsS;x.current=t;let s=new O.cPb(60,1,.1,1e3);s.position.z=15,f.current=s;let n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=new T.CP7({antialias:!0,alpha:!0,powerPreference:"high-performance",canvas:document.createElement("canvas")});if(i.domElement.getContext){let e=i.domElement.getContext("2d");e&&"willReadFrequently"in e&&i.domElement.getContext("2d",{willReadFrequently:!0})}let l=n?1:Math.min(window.devicePixelRatio,2);i.setPixelRatio(l);let c=Math.min(a.current.offsetWidth,r);i.setSize(c,c),i.setClearColor(0,0),a.current.appendChild(i.domElement),p.current=i;let d=new F.z(s,i.domElement);d.enableDamping=!0,d.dampingFactor=.05,d.rotateSpeed=.5,d.enableZoom=!0,d.autoRotate=!0,d.autoRotateSpeed=n?.3:.5,g.current=d;let[u,m]=I.sphere,h=new O.xo$(30,u,m),k=new O.vBJ({color:16777215,side:O._Li,transparent:!0,opacity:.1});M.current.geometries.push(h),M.current.materials.push(k);let S=new O.Kj0(h,k);t.add(S),o(!1);let P=n?2:1,z=0,R=()=>{E.current&&g.current&&p.current&&x.current&&f.current&&(++z%P!=0&&n||(g.current.update(),p.current.render(x.current,f.current)),b.current=requestAnimationFrame(R))};b.current=requestAnimationFrame(R);let C=()=>{if(!E.current||!a.current||!f.current||!p.current)return;let e=Math.min(a.current.offsetWidth,r);f.current.aspect=1,f.current.updateProjectionMatrix(),p.current.setSize(e,e)},A=()=>{clearTimeout(e),e=setTimeout(C,100)};return window.addEventListener("resize",A),()=>{var e,t,r,s,n;E.current=!1,window.removeEventListener("resize",A),b.current&&(cancelAnimationFrame(b.current),b.current=null),y.current&&(clearTimeout(y.current),y.current=null),a.current&&(null===(e=p.current)||void 0===e?void 0:e.domElement)&&a.current.removeChild(p.current.domElement),M.current.geometries.forEach(e=>e.dispose()),M.current.materials.forEach(e=>e.dispose()),M.current.textures.forEach(e=>e.dispose()),M.current.geometries=[],M.current.materials=[],M.current.textures=[],null===(t=g.current)||void 0===t||t.dispose(),g.current=null,null===(r=p.current)||void 0===r||r.dispose(),null===(s=p.current)||void 0===s||s.forceContextLoss(),p.current=null,null===(n=x.current)||void 0===n||n.clear(),x.current=null,v.current=[],j.current.clear(),w.current.clear(),N.current.clear(),f.current=null}},[r,I]);let S=(e,t,r,s,n)=>{if(!x.current||!E.current)return null;let a=3/n,[i,l]=I.plane,o=new O._12(3,a,i,l),c=new O.vBJ({map:t,side:O.ehD,transparent:!0,opacity:0}),d=new O.Kj0(o,c);d.position.copy(r),d.rotation.copy(s),d.rotation.z+=Math.PI,d.renderOrder=1;let u=new O._12(3.1,a+.1,i,l),m=new O.vBJ({color:16777215,side:O.ehD}),h=new O.Kj0(u,m);h.position.copy(r),h.position.z-=.01,h.rotation.copy(s),h.rotation.z+=Math.PI,h.renderOrder=0,x.current.add(h),x.current.add(d),v.current.push(d),j.current.set(d,e),M.current.geometries.push(o,u),M.current.materials.push(c,m),M.current.textures.push(t);let f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!=typeof navigator?navigator.userAgent:""),p=0,g=f?.03:.05,b=f?80:50,w=()=>{E.current&&(p+=g,c.opacity=Math.min(p,1),c.opacity<1&&setTimeout(w,b))};return w(),d},P=(0,n.useMemo)(()=>t.map((e,r)=>{let s=Math.acos(-1+2*r/t.length),n=Math.sqrt(t.length*Math.PI)*s,a=10*Math.sin(s)*Math.cos(n),i=10*Math.sin(s)*Math.sin(n),l=10*Math.cos(s);return new O.Pa4(a,i,l)}),[t.length]),z=()=>new O.USm((Math.random()-.5)*.1,(Math.random()-.5)*.1,(Math.random()-.5)*.1),R=(0,n.useMemo)(()=>new O.dpR,[]),C=(e,t)=>{if(!E.current)return;let{thumbnail:r}=e;w.current.has(r)||N.current.has(r)||(N.current.add(r),"createImageBitmap"in window?fetch(r).then(e=>e.blob()).then(e=>{if(E.current)return createImageBitmap(e)}).then(e=>{if(!E.current||!e)return;let s=e.width/e.height,n=new O.xEZ;n.image=e,n.needsUpdate=!0,n.minFilter=O.wem,n.generateMipmaps=!1,S(r,n,P[t],z(),s),w.current.add(r),N.current.delete(r),V()}).catch(()=>{N.current.delete(r),A(e,t)}):A(e,t))},A=(e,t)=>{if(!E.current)return;let{thumbnail:r}=e;if(w.current.has(r)||N.current.has(r))return;N.current.add(r);let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{if(!E.current)return;let e=s.width/s.height;R.load(r,s=>{E.current&&(s.minFilter=O.wem,s.generateMipmaps=!1,S(r,s,P[t],z(),e),w.current.add(r),N.current.delete(r),V())},void 0,()=>{E.current&&(N.current.delete(r),V())})},s.onerror=()=>{E.current&&(N.current.delete(r),V())},s.src=r},Z=(0,n.useMemo)(()=>new O.iWj,[]),_=(0,n.useMemo)(()=>new O.yGw,[]),L=e=>!!f.current&&!!E.current&&(_.multiplyMatrices(f.current.projectionMatrix,f.current.matrixWorldInverse),Z.setFromProjectionMatrix(_),Z.containsPoint(e)),V=()=>{if(!E.current||y.current||(y.current=setTimeout(()=>{y.current=null},500),N.current.size>=k))return;let e=t.filter((e,t)=>!(w.current.has(e.thumbnail)||N.current.has(e.thumbnail))&&L(P[t])).slice(0,1);0===e.length?t.filter(e=>!w.current.has(e.thumbnail)&&!N.current.has(e.thumbnail)).slice(0,1).forEach(e=>{let r=t.findIndex(t=>t.thumbnail===e.thumbnail);C(e,r)}):e.forEach(e=>{let r=t.findIndex(t=>t.thumbnail===e.thumbnail);C(e,r)})},W=(0,n.useMemo)(()=>new O.iMs,[]),Y=(0,n.useMemo)(()=>new O.FM8,[]),q=()=>{u(null),h(!1),g.current&&E.current&&(g.current.autoRotate=!0)};return(0,n.useEffect)(()=>{if(!l&&t.length>0&&E.current){let e;let r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);t.forEach((e,t)=>{C(e,t)});let s=()=>{E.current&&(clearTimeout(e),e=setTimeout(()=>{V()},r?500:300))};return g.current&&g.current.addEventListener("change",s),()=>{clearTimeout(e),g.current&&g.current.removeEventListener("change",s)}}},[l,t,P]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{ref:a,className:"w-full aspect-square max-w-full mx-auto rounded-full bg-gradient-to-br from-rose-50 to-rose-100 p-2 shadow-lg overflow-hidden",style:{height:r,width:r},onClick:e=>{if(!p.current||!f.current||!E.current)return;let r=p.current.domElement.getBoundingClientRect();Y.set((e.clientX-r.left)/r.width*2-1,-((e.clientY-r.top)/r.height*2)+1),W.setFromCamera(Y,f.current);let s=W.intersectObjects(v.current);if(s.length>0){let e=s[0].object,r=j.current.get(e);if(r){let e=t.find(e=>e.thumbnail===r);e&&(h(!0),u(e.fullsize),g.current&&(g.current.autoRotate=!1))}}}}),l&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/30 backdrop-blur-sm rounded-lg",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,s.jsx)("div",{className:"text-sm text-rose-600",children:"Initializing..."})]}),(0,s.jsx)(B.M,{children:c&&(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[501] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm",onClick:q,children:(0,s.jsxs)(i.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"relative max-w-3xl max-h-[80vh] w-full",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:q,className:"absolute -top-10 right-0 text-white hover:text-rose-300 transition-colors","aria-label":"Close image",children:(0,s.jsx)(d.Z,{size:24})}),m&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-lg",children:(0,s.jsx)(D.Z,{className:"w-8 h-8 text-white animate-spin"})}),(0,s.jsx)(i.E.img,{src:c,alt:"High-resolution photo",loading:"lazy",className:"w-full h-full object-contain rounded-lg border-4 border-white shadow-2xl",onLoad:()=>h(!1),layoutId:"image-".concat(c)})]})})})]})}let L=(0,S.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),V=n.forwardRef((e,t)=>{let{className:r,variant:n,...a}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:R(L({variant:n}),r),...a})});V.displayName="Alert",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h5",{ref:t,className:R("mb-1 font-medium leading-none tracking-tight",r),...n})}).displayName="AlertTitle";let W=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:R("text-sm [&_p]:leading-relaxed",r),...n})});W.displayName="AlertDescription";let Y=n.forwardRef((e,t)=>{let{className:r,type:n,...a}=e;return(0,s.jsx)("input",{type:n,className:R("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});Y.displayName="Input";let q=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("textarea",{className:R("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});q.displayName="Textarea";var H=r(738),J=r(6834);let G=(0,H.ZF)({apiKey:"AIzaSyCocbt-dsvoMg5xAwy0f8rv_OA3_D_mNWc",authDomain:"e-invitation-89a39.firebaseapp.com",databaseURL:"https://e-invitation-89a39-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-invitation-89a39",storageBucket:"e-invitation-89a39.firebasestorage.app",messagingSenderId:"1005490214754",appId:"1:1005490214754:web:b3c49949305a367d8fbe3b",measurementId:"G-DJZWCQMJSE"}),K=(0,a.N8)(G),U=()=>(0,J.IH)(G);function Q(){let[e,t]=(0,n.useState)(0),[r,N]=(0,n.useState)(""),[I,S]=(0,n.useState)(null),[P,z]=(0,n.useState)(""),[R,C]=(0,n.useState)(!1),[B,D]=(0,n.useState)(!1),[O,T]=(0,n.useState)(null),[F,L]=(0,n.useState)([]),[H,J]=(0,n.useState)(!1),[G,Q]=(0,n.useState)(!1),X=(0,n.useRef)(null),$=new Date(2025,4,1),[ee,et]=(0,w.YD)({threshold:.5}),[er,es]=(0,w.YD)({threshold:.5}),[en,ea]=(0,w.YD)({threshold:.5}),[ei,el]=(0,w.YD)({threshold:.5}),[eo,ec]=(0,w.YD)({threshold:.5}),[ed,eu]=(0,w.YD)({threshold:.5}),[em,eh]=(0,n.useState)(300),ex=(0,n.useMemo)(()=>Array.from({length:35}).map((e,t)=>({thumbnail:"/photos/wedding-photo_".concat(t,"-min.jpg"),fullsize:"/photos/wedding-photo_".concat(t,"-org.JPG")})),[]);(0,n.useEffect)(()=>{let e=()=>{eh(.8*window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{U()},[]),(0,n.useEffect)(()=>{et?t(0):es?t(1):ea?t(2):el?t(3):ec?t(4):eu&&t(5)},[et,es,ea,el,ec,eu]),(0,n.useEffect)(()=>{let e=(0,a.IO)((0,a.iH)(K,"rsvps"),(0,a.g2)("timestamp"),(0,a.vh)(50)),t=(0,a.jM)(e,e=>{let t=[];e.forEach(e=>{let r=e.val();r.message&&t.push({id:e.key,name:eb(r.name),message:eb(r.message),timestamp:r.timestamp})}),L(t.reverse())});return()=>t()},[]);let ef=(0,n.useRef)(void 0);(0,n.useEffect)(()=>{let e=()=>{G||ef.current||(Q(!0),ef.current=setTimeout(()=>{X.current&&X.current.play().then(()=>{J(!0)}).catch(e=>{console.log("Auto-play prevented:",e),J(!1)})},500))},t=["click","touchstart","scroll","keydown"];return t.forEach(t=>{window.addEventListener(t,e,{once:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[G]),(0,n.useEffect)(()=>{if(X.current&&G){if(H){let e=X.current.play();void 0!==e&&e.catch(e=>{console.log("Playback failed:",e),J(!1)})}else X.current.pause()}},[H,G]);let ep=async e=>{e.preventDefault(),D(!0),T(null);try{let e=(0,a.iH)(K,"rsvps");await (0,a.VF)(e,{name:eb(r),attending:I,message:P?eb(P):null,timestamp:(0,a.Bt)(),userAgent:navigator.userAgent}),C(!0)}catch(e){console.error("Error submitting RSVP:",e),T("提交失败，请稍后再试。")}finally{D(!1)}},eg=e=>{var t;null===(t=[document.getElementById("cover"),document.getElementById("details"),document.getElementById("gallery"),document.getElementById("rsvp"),document.getElementById("map"),document.getElementById("message-board")][e])||void 0===t||t.scrollIntoView({behavior:"smooth"})},eb=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),[ev,ej]=(0,n.useState)(!1),[ew,eN]=(0,n.useState)(!1),[ey,eE]=(0,n.useState)("加载中..."),[eM,ek]=(0,n.useState)("加载中...");return(0,n.useEffect)(()=>{let e=(0,a.iH)(K,"weddingMessages/groom"),t=(0,a.iH)(K,"weddingMessages/bride"),r=(0,a.jM)(e,e=>{let t=e.val();(null==t?void 0:t.message)&&eE(eb(t.message))}),s=(0,a.jM)(t,e=>{let t=e.val();(null==t?void 0:t.message)&&ek(eb(t.message))});return()=>{r(),s()}},[]),(0,s.jsxs)("div",{className:"relative bg-wedding min-h-screen text-gray-800 overflow-hidden",children:[(0,s.jsx)("audio",{ref:X,src:"/music/wedding-song.mp3",loop:!0,preload:"auto"}),(0,s.jsx)("button",{onClick:()=>J(!H),className:"fixed bottom-6 right-6 z-[500] w-12 h-12 rounded-full bg-rose-500 hover:bg-rose-600 text-white shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 group ".concat(G?"":"animate-pulse"),"aria-label":H?"暂停音乐":"播放音乐",children:(0,s.jsx)(i.E.div,{animate:{rotate:H?360:0},transition:{duration:4,repeat:H?1/0:0,ease:"linear"},children:H?(0,s.jsx)(l.Z,{className:"w-6 h-6"}):(0,s.jsx)(o.Z,{className:"w-6 h-6"})})}),(0,s.jsx)(E,{count:15}),(0,s.jsx)("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-40",children:(0,s.jsx)("div",{className:"flex flex-col gap-4",children:[0,1,2,3,4,5].map(t=>(0,s.jsx)("button",{onClick:()=>eg(t),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(e===t?"bg-rose-500 scale-125":"bg-gray-300"),"aria-label":"Go to section ".concat(t+1)},t))})}),(0,s.jsxs)("div",{className:"fixed left-4 top-4 z-[500] flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>ej(e=>!e),className:"w-8 h-8 rounded-full bg-white overflow-hidden border-2 border-rose-300 hover:border-rose-500 transition-all duration-300 shadow-lg hover:scale-105 flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-4 h-4 text-rose-500"})}),ev&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.8,x:-20},animate:{opacity:1,scale:1,x:0},className:"absolute left-12 top-0 bg-white rounded-2xl p-4 shadow-lg w-72 border border-rose-200",children:[(0,s.jsx)("button",{onClick:()=>ej(!1),className:"absolute right-2 top-2 text-rose-400 hover:text-rose-600",children:(0,s.jsx)(d.Z,{size:16})}),(0,s.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:ey}),(0,s.jsx)("div",{className:"text-right mt-2 text-rose-500 font-script",children:"- 于明昊"})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>eN(e=>!e),className:"w-8 h-8 rounded-full bg-white overflow-hidden border-2 border-rose-300 hover:border-rose-500 transition-all duration-300 shadow-lg hover:scale-105 flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"w-4 h-4 text-rose-500"})}),ew&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.8,x:-20},animate:{opacity:1,scale:1,x:0},className:"absolute left-12 top-0 bg-white rounded-2xl p-4 shadow-lg w-72 border border-rose-200",children:[(0,s.jsx)("button",{onClick:()=>eN(!1),className:"absolute right-2 top-2 text-rose-400 hover:text-rose-600",children:(0,s.jsx)(d.Z,{size:16})}),(0,s.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:eM}),(0,s.jsx)("div",{className:"text-right mt-2 text-rose-500 font-script",children:"- 刘宽"})]})]})]}),(0,s.jsx)("section",{id:"cover",ref:ee,className:"min-h-screen flex flex-col items-center justify-center text-center p-6 relative",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"max-w-md glass p-8 rounded-xl",children:[(0,s.jsx)("div",{className:"mb-6 relative w-32 h-32 mx-auto rounded-2xl overflow-hidden",children:(0,s.jsx)(j.default,{src:"/monogram.jpg",alt:"Wedding monogram",fill:!0,className:"object-contain"})}),(0,s.jsx)("h1",{className:"font-script text-3xl mb-4 text-rose-700",children:"刘宽\xa0\xa0&\xa0\xa0于明昊"}),(0,s.jsx)("h2",{className:"font-serif text-2xl font-light mb-8 text-rose-600",children:"诚挚邀请您参加我们的婚礼"}),(0,s.jsx)(k,{}),(0,s.jsx)("p",{className:"font-serif text-xl mb-4",children:"2025年5月1日"}),(0,s.jsx)("p",{className:"font-serif text-lg mb-8",children:"威海 \xb7 铂丽斯"}),(0,s.jsx)(M,{targetDate:$}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(i.E.div,{animate:{y:[0,10,0]},transition:{repeat:Number.POSITIVE_INFINITY,duration:2},children:(0,s.jsx)(m.Z,{className:"text-rose-500 w-8 h-8"})})})]})}),(0,s.jsx)("section",{id:"details",ref:er,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 floral-border",children:[(0,s.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"婚礼详情"}),(0,s.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Wedding Details"}),(0,s.jsx)(k,{icon:(0,s.jsx)(u.Z,{className:"text-rose-400 fill-rose-200",size:16})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(h.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-serif font-medium text-lg",children:"日期"}),(0,s.jsx)("p",{children:"2025年5月1日 星期四"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(x.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-serif font-medium text-lg",children:"时间"}),(0,s.jsx)("p",{children:"婚礼仪式: 12:08"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(f.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-serif font-medium text-lg",children:"地点"}),(0,s.jsx)("p",{children:"山东省威海市经济技术开发区黄海路19号"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(p.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-serif font-medium text-lg",children:"联系方式"}),(0,s.jsx)("p",{children:"ymhyzq@163.com"})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(g.Z,{className:"w-6 h-6 text-rose-500 mr-4 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-serif font-medium text-lg",children:"电话"}),(0,s.jsx)("p",{children:"18369195962"})]})]})]})]})}),(0,s.jsx)("section",{id:"gallery",ref:en,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:[(0,s.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"我们的故事"}),(0,s.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Our Story"}),(0,s.jsx)(k,{}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)(_,{images:ex,size:em})}),(0,s.jsx)("div",{className:"text-center mt-6 text-sm text-rose-500 font-serif italic",children:(0,s.jsx)("p",{children:"拖动旋转 • 点击图片查看"})})]})}),(0,s.jsx)("section",{id:"rsvp",ref:ei,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"回复邀请"}),(0,s.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"RSVP"}),(0,s.jsx)(k,{}),R?(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(u.Z,{className:"w-8 h-8 text-rose-600 fill-rose-200"})}),(0,s.jsx)("h3",{className:"text-xl font-serif font-medium mb-2",children:"谢谢您！"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["您的回复已提交。",I?"期待与您相见！":"感谢您的回复！"]})]}):(0,s.jsxs)("form",{onSubmit:ep,className:"space-y-4",children:[O&&(0,s.jsxs)(V,{variant:"destructive",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)(W,{children:O})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"您的姓名"}),(0,s.jsx)(Y,{id:"name",value:r,onChange:e=>N(e.target.value),required:!0,className:"w-full border-rose-200 focus:border-rose-400 focus:ring-rose-400"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"block text-sm font-medium mb-2",children:"您是否参加？"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(A,{type:"button",variant:!0===I?"default":"outline",onClick:()=>S(!0),className:!0===I?"bg-rose-500 hover:bg-rose-600":"border-rose-300 text-rose-600 hover:bg-rose-50",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 mr-2"})," 是"]}),(0,s.jsxs)(A,{type:"button",variant:!1===I?"default":"outline",onClick:()=>S(!1),disabled:!0,className:!1===I?"bg-rose-500 hover:bg-rose-600":"border-rose-300 text-rose-600 hover:bg-rose-50",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"})," 否（不准）"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium mb-1",children:"留言（可选）"}),(0,s.jsx)(q,{id:"message",value:P,onChange:e=>z(e.target.value),className:"w-full border-rose-200 focus:border-rose-400 focus:ring-rose-400",rows:3})]}),(0,s.jsx)(A,{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600",disabled:!r||null===I||B,children:B?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mr-2",children:"提交中"}),(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"提交回复"})]})]})}),(0,s.jsx)("section",{className:"py-12 px-6 bg-white flex flex-col items-center justify-center",id:"map",ref:eo,children:(0,s.jsx)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"婚礼地点"}),(0,s.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Location"}),(0,s.jsx)(k,{}),(0,s.jsx)("div",{className:"aspect-video relative rounded-lg overflow-hidden shadow-lg border-4 border-white",children:(0,s.jsx)(y,{latitude:37.428392,longitude:122.172677,title:"威海铂丽斯酒店",address:"威海铂丽斯酒店"})}),(0,s.jsxs)("div",{className:"mt-6 text-center",children:[(0,s.jsx)("p",{className:"font-serif font-medium text-lg",children:"山东省威海市"}),(0,s.jsx)("p",{children:"经济技术开发区黄海路19号"}),(0,s.jsx)(Z,{address:"山东省威海市经济技术开发区黄海路19号",latitude:37.428392,longitude:122.172677,venueName:"威海铂丽斯酒店"})]})]})})}),(0,s.jsx)("section",{id:"message-board",ref:ed,className:"min-h-screen flex flex-col items-center justify-center p-6",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h2",{className:"font-script text-4xl mb-2 text-center text-rose-700",children:"留言板"}),(0,s.jsx)("p",{className:"text-center text-rose-500 mb-6 font-serif",children:"Messages"}),(0,s.jsx)(k,{}),(0,s.jsx)("div",{className:"mt-6 space-y-4 max-h-[60vh] overflow-y-auto",children:0===F.length?(0,s.jsx)("p",{className:"text-center text-gray-500 italic",children:"还没有留言，来做第一个留言的人吧！"}):F.map(e=>(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-rose-50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)("h3",{className:"font-medium text-rose-700",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString("zh-CN")})]}),(0,s.jsx)("p",{className:"mt-2 text-gray-700 whitespace-pre-wrap",children:e.message})]},e.id))})]})}),(0,s.jsx)("footer",{className:"py-12 text-center text-sm text-rose-600 bg-rose-50",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto px-6",children:[(0,s.jsx)(k,{className:"mb-6"}),(0,s.jsx)("p",{className:"font-serif text-lg mb-2",children:"我们期待与您共度美好时光！"}),(0,s.jsx)("p",{className:"font-script text-2xl mb-4",children:"Minghao Yu & Kuan Liu"}),(0,s.jsx)("p",{className:"text-rose-400",children:"\xa9 2025"})]})})]})}}},function(e){e.O(0,[689,870,481,547,971,117,744],function(){return e(e.s=5007)}),_N_E=e.O()}]);